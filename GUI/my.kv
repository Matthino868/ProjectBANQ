#: import NoTransition kivy.uix.screenmanager.NoTransition

#maak de schermen aan in de manager
<SchermManagement>
    transition: NoTransition()
    InlogScherm:
        name: 'InlogScherm'
    HoofdScherm:
        name: 'HoofdScherm'
    SaldoScherm:
        name: 'SaldoScherm'
    AndersScherm:
        name: 'AndersScherm'
    CheckScherm:
        name: 'CheckScherm'

<Button>
    background_normal: ''
    background_color: (112/255, 112/255, 112/255)
    size_hint: (0.5, 0.5)
    font_size: 32

#na elke <xxx> kan je een scherm designen
<InlogScherm>:
    on_pre_enter: 
        input1.text = '' 
        input2.text = ''
        Label3.text = ''

    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: "Foto's/BanqTemplate.png"

    FloatLayout
        size: root.width, root.height

        spacing: 5

        Label:
            text: "login"
            id: Label1
            font_size: 32
            pos_hint: {'x': 0, 'top': 1.42 }

        Label:
            text: ""
            id: Label3
            font_size: 32
            color: (0, 0, 0, 1)
            pos_hint: {'x': 0, 'top': 1.2 }
        
        TextInput:
            id: input1
            hint_text:'Enter number'
            font_size: 32
            size_hint: (0.5, 0.5)

        TextInput:
            id: input2
            hint_text:'Enter pin'
            font_size: 32
            size_hint: (0.5, 0.3)
            password: True

        Button:
            text:"OK"
            font_size: 32
            size_hint: (0.5, 0.2)
            pos_hint: {'x': 0, 'y': 0}
            on_release: 
                root.setNummer(input1.text)
                if app.checkPin(input1.text, input2.text) == 1: \ 
                root.manager.current = 'HoofdScherm' 
                elif app.checkPin(input1.text, input2.text) == 0: \
                Label3.text = 'Wrong pin!'
                input1.text = '' 
                input2.text = ''

                
<HoofdScherm>:
    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: "Foto's/BanqTemplate.png"

    BoxLayout:
        orientation: 'vertical'
        size: root.width, root.height

        spacing: 5

        Label:
            text: "What amount do you want to withdraw?"
            font_size: 32
        
        Button:
            text:"5 euro"
            on_release: 
                root.setHoeveelheid(5)
                root.manager.current = 'CheckScherm'

        Button:
            text:"10 euro"
            on_release: 
                root.setHoeveelheid(10)
                root.manager.current = 'CheckScherm'

        Button:
            text:"20 euro"
            on_release:
                root.setHoeveelheid(20)             
                root.manager.current = 'CheckScherm'

        Button:
            text:"50 euro"
            on_release: 
                root.setHoeveelheid(50)
                root.manager.current = 'CheckScherm'

        Button:
            text:"Different"
            on_release: root.manager.current = 'AndersScherm'
        
        Button:
            text:"See balance"
            on_release: 
                app.getSaldo()
                root.manager.current = 'SaldoScherm'

        Button:
            text:"Cancel"
            on_release: 
                root.manager.current = 'InlogScherm'

<SaldoScherm>
    on_pre_enter: saldo_label.text = 'â‚¬' + app.getSaldo()
    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: "Foto's/BanqTemplate.png"

    BoxLayout:
        orientation: 'vertical'
        size: root.width, root.height

        spacing: 3

        Label:
            text: "This is your balance"
            font_size: 32
            color: (0, 0, 0, 1)

        Label:
            id: saldo_label
            text: ' '
            font_size: 32
            color: (0, 0, 0, 1)

        Button:
            text:"Back"
            font_size: 32
            on_release: root.manager.current = 'HoofdScherm'

<AndersScherm>
    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: "Foto's/BanqTemplate.png"

    BoxLayout:
        orientation: 'vertical'
        size: root.width, root.height

        spacing: 3

        Label:
            text: 'What amount do you want to withdraw?'
            font_size: 32
            color: (0, 0, 0, 1)

        TextInput:
            id: input
            hint_text:'Enter amount'
            font_size: 32
            size_hint: (0.5, 0.5)
            
        
        Button:
            text: "OK"
            font_size: 32
            on_release: 
                root.setHoeveelheid(input.text)
                root.manager.current = 'CheckScherm'

        Button:
            text:"back"
            font_size: 32
            on_release: root.manager.current = 'HoofdScherm'

<CheckScherm>
    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: "Foto's/BanqTemplate.png"

    GridLayout:
        cols:1
        size: root.width, root.height

        Label:
            text: 'Are you sure?'
            font_size: 32
            color: (0, 0, 0, 1)

        BoxLayout:
            Button:
                text: "Yes"
                font_size: 32
                on_release: 
                    app.setSaldo() 
                    root.manager.current = 'InlogScherm'
                
            Button:
                text: "No"
                font_size: 32
                on_release: root.manager.current = 'HoofdScherm'
